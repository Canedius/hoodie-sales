const salesData = {
  "products": [
    {
      "name": "Худі Утеплений Kufaika Unisex",
      "months": [
        {
          "month": "Січень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 267},
              {"size": "L", "quantity": 227},
              {"size": "XL", "quantity": 144},
              {"size": "S", "quantity": 83},
              {"size": "XXL", "quantity": 66},
              {"size": "XS", "quantity": 19},
              {"size": "3XL", "quantity": 16}
            ],
            "Білий": [
              {"size": "L", "quantity": 26},
              {"size": "M", "quantity": 23},
              {"size": "XL", "quantity": 16},
              {"size": "S", "quantity": 12},
              {"size": "XXL", "quantity": 2},
              {"size": "3XL", "quantity": 2},
              {"size": "XS", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "S", "quantity": 30},
              {"size": "M", "quantity": 23},
              {"size": "XS", "quantity": 13},
              {"size": "L", "quantity": 10},
              {"size": "XL", "quantity": 5},
              {"size": "XXL", "quantity": 3},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "L", "quantity": 14},
              {"size": "S", "quantity": 13},
              {"size": "M", "quantity": 13},
              {"size": "XS", "quantity": 10},
              {"size": "XL", "quantity": 8},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "L", "quantity": 2},
              {"size": "M", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "M", "quantity": 36},
              {"size": "L", "quantity": 24},
              {"size": "S", "quantity": 19},
              {"size": "XL", "quantity": 17},
              {"size": "XXL", "quantity": 6},
              {"size": "XS", "quantity": 5},
              {"size": "3XL", "quantity": 1}
            ],
            "Хакі": [
              {"size": "M", "quantity": 52},
              {"size": "L", "quantity": 38},
              {"size": "XL", "quantity": 28},
              {"size": "S", "quantity": 22},
              {"size": "XXL", "quantity": 8},
              {"size": "XS", "quantity": 7},
              {"size": "3XL", "quantity": 2}
            ],
            "Інший Колір": [
              {"size": "XL", "quantity": 25},
              {"size": "M", "quantity": 13},
              {"size": "XXL", "quantity": 9},
              {"size": "L", "quantity": 8},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Лютий",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 214},
              {"size": "M", "quantity": 190},
              {"size": "XL", "quantity": 130},
              {"size": "XXL", "quantity": 63},
              {"size": "S", "quantity": 54},
              {"size": "3XL", "quantity": 35},
              {"size": "XS", "quantity": 6}
            ],
            "Білий": [
              {"size": "S", "quantity": 6},
              {"size": "M", "quantity": 5},
              {"size": "XS", "quantity": 2},
              {"size": "XL", "quantity": 2},
              {"size": "L", "quantity": 2},
              {"size": "3XL", "quantity": 1},
              {"size": "XXL", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "S", "quantity": 12},
              {"size": "M", "quantity": 11},
              {"size": "L", "quantity": 8},
              {"size": "XL", "quantity": 2},
              {"size": "XXL", "quantity": 2},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "L", "quantity": 3},
              {"size": "S", "quantity": 3},
              {"size": "M", "quantity": 3},
              {"size": "XS", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "L", "quantity": 8},
              {"size": "M", "quantity": 4},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "M", "quantity": 36},
              {"size": "L", "quantity": 28},
              {"size": "XL", "quantity": 20},
              {"size": "S", "quantity": 19},
              {"size": "XXL", "quantity": 8},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 4}
            ],
            "Хакі": [
              {"size": "L", "quantity": 18},
              {"size": "M", "quantity": 17},
              {"size": "S", "quantity": 8},
              {"size": "XL", "quantity": 4},
              {"size": "XXL", "quantity": 2},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Березень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 107},
              {"size": "L", "quantity": 86},
              {"size": "XL", "quantity": 51},
              {"size": "XXL", "quantity": 21},
              {"size": "S", "quantity": 20},
              {"size": "3XL", "quantity": 8},
              {"size": "XS", "quantity": 3}
            ],
            "Ніжно-рожевий": [
              {"size": "L", "quantity": 11},
              {"size": "M", "quantity": 13},
              {"size": "XL", "quantity": 9},
              {"size": "XS", "quantity": 1},
              {"size": "S", "quantity": 7},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Білий": [
              {"size": "L", "quantity": 3},
              {"size": "XL", "quantity": 1},
              {"size": "M", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 5},
              {"size": "L", "quantity": 4},
              {"size": "S", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "XL", "quantity": 3},
              {"size": "XXL", "quantity": 2},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "M", "quantity": 10},
              {"size": "L", "quantity": 10},
              {"size": "XL", "quantity": 6},
              {"size": "S", "quantity": 2},
              {"size": "XS", "quantity": 1},
              {"size": "XXL", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Хакі": [
              {"size": "M", "quantity": 13},
              {"size": "L", "quantity": 10},
              {"size": "S", "quantity": 6},
              {"size": "XL", "quantity": 6},
              {"size": "XS", "quantity": 2},
              {"size": "XXL", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Квітень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 29},
              {"size": "M", "quantity": 18},
              {"size": "XL", "quantity": 17},
              {"size": "S", "quantity": 11},
              {"size": "XXL", "quantity": 8},
              {"size": "3XL", "quantity": 2},
              {"size": "XS", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "L", "quantity": 2},
              {"size": "XXL", "quantity": 2},
              {"size": "S", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Білий": [
              {"size": "M", "quantity": 1},
              {"size": "L", "quantity": 1},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "L", "quantity": 2},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "XL", "quantity": 2},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "L", "quantity": 3},
              {"size": "M", "quantity": 3},
              {"size": "XXL", "quantity": 1},
              {"size": "S", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Хакі": [
              {"size": "L", "quantity": 10},
              {"size": "M", "quantity": 9},
              {"size": "XL", "quantity": 5},
              {"size": "S", "quantity": 3},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "XXL", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Травень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 23},
              {"size": "L", "quantity": 13},
              {"size": "XL", "quantity": 12},
              {"size": "XXL", "quantity": 3},
              {"size": "S", "quantity": 3},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 0}
            ],
            "Білий": [
              {"size": "XL", "quantity": 1},
              {"size": "S", "quantity": 1},
              {"size": "M", "quantity": 1},
              {"size": "XXL", "quantity": 1},
              {"size": "L", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "L", "quantity": 2},
              {"size": "M", "quantity": 2},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 2},
              {"size": "XXL", "quantity": 1},
              {"size": "L", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "M", "quantity": 2},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "XL", "quantity": 2},
              {"size": "L", "quantity": 2},
              {"size": "M", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Хакі": [
              {"size": "M", "quantity": 1},
              {"size": "XXL", "quantity": 1},
              {"size": "L", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Червень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 3},
              {"size": "L", "quantity": 2},
              {"size": "XL", "quantity": 2},
              {"size": "S", "quantity": 1},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Білий": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Хакі": [
              {"size": "M", "quantity": 2},
              {"size": "L", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Липень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 18},
              {"size": "L", "quantity": 11},
              {"size": "XL", "quantity": 9},
              {"size": "S", "quantity": 4},
              {"size": "3XL", "quantity": 3},
              {"size": "XS", "quantity": 1},
              {"size": "XXL", "quantity": 0}
            ],
            "Білий": [
              {"size": "XXL", "quantity": 1},
              {"size": "M", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 3},
              {"size": "L", "quantity": 3},
              {"size": "XL", "quantity": 2},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 1},
              {"size": "L", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "M", "quantity": 1},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Хакі": [
              {"size": "M", "quantity": 5},
              {"size": "L", "quantity": 4},
              {"size": "XL", "quantity": 4},
              {"size": "S", "quantity": 1},
              {"size": "XS", "quantity": 1},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Серпень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 69},
              {"size": "L", "quantity": 53},
              {"size": "XL", "quantity": 47},
              {"size": "S", "quantity": 22},
              {"size": "XXL", "quantity": 22},
              {"size": "3XL", "quantity": 4},
              {"size": "XS", "quantity": 3}
            ],
            "Білий": [
              {"size": "L", "quantity": 4},
              {"size": "M", "quantity": 4},
              {"size": "S", "quantity": 2},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 28},
              {"size": "S", "quantity": 24},
              {"size": "L", "quantity": 13},
              {"size": "XS", "quantity": 11},
              {"size": "XL", "quantity": 1},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "L", "quantity": 9},
              {"size": "M", "quantity": 8},
              {"size": "XL", "quantity": 6},
              {"size": "S", "quantity": 3},
              {"size": "XXL", "quantity": 3},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Сірий Грі": [
              {"size": "M", "quantity": 7},
              {"size": "L", "quantity": 6},
              {"size": "XL", "quantity": 6},
              {"size": "S", "quantity": 4},
              {"size": "XS", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Хакі": [
              {"size": "XL", "quantity": 9},
              {"size": "L", "quantity": 9},
              {"size": "M", "quantity": 8},
              {"size": "S", "quantity": 4},
              {"size": "XXL", "quantity": 3},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 0}
            ],
            "Інший Колір": [
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "M", "quantity": 0},
              {"size": "L", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        }
      ]
    },
    {
      "name": "Худі Легкий Kufaika Unisex",
      "months": [
        {
          "month": "Лютий",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 19},
              {"size": "L", "quantity": 17},
              {"size": "XL", "quantity": 8},
              {"size": "S", "quantity": 5},
              {"size": "XXL", "quantity": 3},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 0}
            ]
          }
        },
        {
          "month": "Березень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 31},
              {"size": "M", "quantity": 31},
              {"size": "S", "quantity": 17},
              {"size": "XL", "quantity": 15},
              {"size": "XXL", "quantity": 12},
              {"size": "XS", "quantity": 2},
              {"size": "3XL", "quantity": 1}
            ]
          }
        },
        {
          "month": "Квітень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 45},
              {"size": "L", "quantity": 31},
              {"size": "S", "quantity": 25},
              {"size": "XL", "quantity": 21},
              {"size": "3XL", "quantity": 7},
              {"size": "XXL", "quantity": 6},
              {"size": "XS", "quantity": 1}
            ]
          }
        },
        {
          "month": "Травень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 23},
              {"size": "S", "quantity": 19},
              {"size": "L", "quantity": 19},
              {"size": "XL", "quantity": 9},
              {"size": "XXL", "quantity": 4},
              {"size": "XS", "quantity": 2},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Червень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 17},
              {"size": "M", "quantity": 13},
              {"size": "XL", "quantity": 12},
              {"size": "S", "quantity": 4},
              {"size": "XXL", "quantity": 4},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Липень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 15},
              {"size": "L", "quantity": 15},
              {"size": "XL", "quantity": 10},
              {"size": "S", "quantity": 8},
              {"size": "XXL", "quantity": 5},
              {"size": "XS", "quantity": 4},
              {"size": "3XL", "quantity": 1}
            ]
          }
        },
        {
          "month": "Серпень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 15},
              {"size": "L", "quantity": 11},
              {"size": "XL", "quantity": 4},
              {"size": "S", "quantity": 2},
              {"size": "XXL", "quantity": 1},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 0}
            ]
          }
        }
      ]
    },
    {
      "name": "Світшот Легкий Kufaika Unisex",
      "months": [
        {
          "month": "Січень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 12},
              {"size": "XL", "quantity": 4},
              {"size": "M", "quantity": 4},
              {"size": "XXL", "quantity": 3},
              {"size": "3XL", "quantity": 3},
              {"size": "XS", "quantity": 2},
              {"size": "S", "quantity": 2}
            ]
          }
        },
        {
          "month": "Лютий",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 14},
              {"size": "M", "quantity": 12},
              {"size": "XL", "quantity": 8},
              {"size": "S", "quantity": 7},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Березень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "S", "quantity": 15},
              {"size": "L", "quantity": 14},
              {"size": "XL", "quantity": 11},
              {"size": "M", "quantity": 9},
              {"size": "XS", "quantity": 3},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Квітень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 7},
              {"size": "M", "quantity": 5},
              {"size": "S", "quantity": 3},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Травень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 7},
              {"size": "M", "quantity": 5},
              {"size": "S", "quantity": 3},
              {"size": "XL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Червень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 8},
              {"size": "S", "quantity": 4},
              {"size": "M", "quantity": 4},
              {"size": "XL", "quantity": 3},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Липень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 3},
              {"size": "L", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "S", "quantity": 0},
              {"size": "XL", "quantity": 0},
              {"size": "XXL", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Серпень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 14},
              {"size": "S", "quantity": 14},
              {"size": "XL", "quantity": 10},
              {"size": "L", "quantity": 10},
              {"size": "XS", "quantity": 2},
              {"size": "XXL", "quantity": 2},
              {"size": "3XL", "quantity": 1}
            ]
          }
        }
      ]
    },
    {
      "name": "Футболка Premium Kufaika",
      "months": [
        {
          "month": "Січень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 177},
              {"size": "L", "quantity": 174},
              {"size": "XL", "quantity": 94},
              {"size": "S", "quantity": 69},
              {"size": "XXL", "quantity": 50},
              {"size": "3XL", "quantity": 16},
              {"size": "XS", "quantity": 11}
            ],
            "Білий": [
              {"size": "L", "quantity": 33},
              {"size": "M", "quantity": 27},
              {"size": "XL", "quantity": 22},
              {"size": "S", "quantity": 9},
              {"size": "3XL", "quantity": 6},
              {"size": "XXL", "quantity": 3},
              {"size": "XS", "quantity": 2}
            ],
            "Сірий": [
              {"size": "L", "quantity": 20},
              {"size": "M", "quantity": 16},
              {"size": "XL", "quantity": 8},
              {"size": "XXL", "quantity": 5},
              {"size": "XS", "quantity": 3},
              {"size": "S", "quantity": 3},
              {"size": "3XL", "quantity": 3}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 12},
              {"size": "L", "quantity": 12},
              {"size": "XS", "quantity": 2},
              {"size": "XXL", "quantity": 2},
              {"size": "S", "quantity": 1},
              {"size": "XL", "quantity": 2},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "XL", "quantity": 12},
              {"size": "M", "quantity": 11},
              {"size": "L", "quantity": 8},
              {"size": "S", "quantity": 5},
              {"size": "3XL", "quantity": 6},
              {"size": "XXL", "quantity": 3},
              {"size": "XS", "quantity": 2}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 10},
              {"size": "S", "quantity": 9},
              {"size": "L", "quantity": 4},
              {"size": "XXL", "quantity": 3},
              {"size": "XS", "quantity": 3},
              {"size": "XL", "quantity": 2},
              {"size": "3XL", "quantity": 0}
            ],
            "Койот": [
              {"size": "L", "quantity": 8},
              {"size": "M", "quantity": 7},
              {"size": "XL", "quantity": 6},
              {"size": "XS", "quantity": 3},
              {"size": "S", "quantity": 3},
              {"size": "3XL", "quantity": 1},
              {"size": "XXL", "quantity": 1}
            ]
          }
        },
        {
          "month": "Лютий",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 193},
              {"size": "L", "quantity": 157},
              {"size": "XL", "quantity": 107},
              {"size": "S", "quantity": 67},
              {"size": "XXL", "quantity": 49},
              {"size": "3XL", "quantity": 29},
              {"size": "XS", "quantity": 9}
            ],
            "Білий": [
              {"size": "L", "quantity": 27},
              {"size": "M", "quantity": 24},
              {"size": "S", "quantity": 16},
              {"size": "XL", "quantity": 7},
              {"size": "XXL", "quantity": 4},
              {"size": "XS", "quantity": 4},
              {"size": "3XL", "quantity": 1}
            ],
            "Сірий": [
              {"size": "M", "quantity": 16},
              {"size": "L", "quantity": 12},
              {"size": "S", "quantity": 7},
              {"size": "XL", "quantity": 4},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ],
            "Бежевий": [
              {"size": "L", "quantity": 4},
              {"size": "M", "quantity": 3},
              {"size": "S", "quantity": 2},
              {"size": "XL", "quantity": 1},
              {"size": "XXL", "quantity": 1},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "L", "quantity": 25},
              {"size": "M", "quantity": 21},
              {"size": "S", "quantity": 12},
              {"size": "XXL", "quantity": 12},
              {"size": "XL", "quantity": 11},
              {"size": "3XL", "quantity": 3},
              {"size": "XS", "quantity": 0}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 25},
              {"size": "S", "quantity": 18},
              {"size": "L", "quantity": 11},
              {"size": "XXL", "quantity": 4},
              {"size": "XS", "quantity": 2},
              {"size": "XL", "quantity": 2},
              {"size": "3XL", "quantity": 0}
            ],
            "Койот": [
              {"size": "L", "quantity": 33},
              {"size": "M", "quantity": 23},
              {"size": "XL", "quantity": 16},
              {"size": "XXL", "quantity": 7},
              {"size": "S", "quantity": 2},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 0}
            ]
          }
        },
        {
          "month": "Березень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 435},
              {"size": "L", "quantity": 322},
              {"size": "XL", "quantity": 174},
              {"size": "S", "quantity": 149},
              {"size": "XXL", "quantity": 72},
              {"size": "3XL", "quantity": 28},
              {"size": "XS", "quantity": 25}
            ],
            "Білий": [
              {"size": "M", "quantity": 123},
              {"size": "L", "quantity": 93},
              {"size": "S", "quantity": 64},
              {"size": "XL", "quantity": 56},
              {"size": "XXL", "quantity": 30},
              {"size": "XS", "quantity": 11},
              {"size": "3XL", "quantity": 3}
            ],
            "Сірий": [
              {"size": "M", "quantity": 29},
              {"size": "L", "quantity": 18},
              {"size": "S", "quantity": 12},
              {"size": "XL", "quantity": 9},
              {"size": "XXL", "quantity": 8},
              {"size": "XS", "quantity": 4},
              {"size": "3XL", "quantity": 5}
            ],
            "Бежевий": [
              {"size": "L", "quantity": 15},
              {"size": "XL", "quantity": 14},
              {"size": "M", "quantity": 13},
              {"size": "S", "quantity": 11},
              {"size": "XXL", "quantity": 6},
              {"size": "XS", "quantity": 4},
              {"size": "3XL", "quantity": 6}
            ],
            "Олива": [
              {"size": "M", "quantity": 60},
              {"size": "L", "quantity": 42},
              {"size": "XL", "quantity": 35},
              {"size": "S", "quantity": 30},
              {"size": "XXL", "quantity": 18},
              {"size": "XS", "quantity": 11},
              {"size": "3XL", "quantity": 3}
            ],
            "Ніжно-рожевий": [
              {"size": "S", "quantity": 18},
              {"size": "M", "quantity": 16},
              {"size": "L", "quantity": 9},
              {"size": "XS", "quantity": 8},
              {"size": "XL", "quantity": 7},
              {"size": "XXL", "quantity": 4},
              {"size": "3XL", "quantity": 3}
            ],
            "Койот": [
              {"size": "L", "quantity": 47},
              {"size": "M", "quantity": 36},
              {"size": "XL", "quantity": 35},
              {"size": "S", "quantity": 11},
              {"size": "3XL", "quantity": 11},
              {"size": "XXL", "quantity": 7},
              {"size": "XS", "quantity": 3}
            ]
          }
        },
        {
          "month": "Квітень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 468},
              {"size": "L", "quantity": 453},
              {"size": "XL", "quantity": 270},
              {"size": "S", "quantity": 217},
              {"size": "XXL", "quantity": 127},
              {"size": "3XL", "quantity": 45},
              {"size": "XS", "quantity": 44}
            ],
            "Білий": [
              {"size": "M", "quantity": 105},
              {"size": "L", "quantity": 79},
              {"size": "S", "quantity": 52},
              {"size": "XL", "quantity": 53},
              {"size": "XXL", "quantity": 20},
              {"size": "XS", "quantity": 19},
              {"size": "3XL", "quantity": 13}
            ],
            "Сірий": [
              {"size": "M", "quantity": 54},
              {"size": "L", "quantity": 35},
              {"size": "S", "quantity": 14},
              {"size": "XL", "quantity": 14},
              {"size": "XXL", "quantity": 8},
              {"size": "XS", "quantity": 4},
              {"size": "3XL", "quantity": 3}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 30},
              {"size": "L", "quantity": 12},
              {"size": "XL", "quantity": 12},
              {"size": "S", "quantity": 9},
              {"size": "XXL", "quantity": 11},
              {"size": "XS", "quantity": 8},
              {"size": "3XL", "quantity": 3}
            ],
            "Олива": [
              {"size": "L", "quantity": 67},
              {"size": "M", "quantity": 53},
              {"size": "XL", "quantity": 33},
              {"size": "XXL", "quantity": 23},
              {"size": "S", "quantity": 14},
              {"size": "3XL", "quantity": 11},
              {"size": "XS", "quantity": 3}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 56},
              {"size": "S", "quantity": 29},
              {"size": "L", "quantity": 21},
              {"size": "XL", "quantity": 16},
              {"size": "XS", "quantity": 16},
              {"size": "XXL", "quantity": 4},
              {"size": "3XL", "quantity": 2}
            ],
            "Койот": [
              {"size": "M", "quantity": 58},
              {"size": "L", "quantity": 33},
              {"size": "XL", "quantity": 22},
              {"size": "S", "quantity": 13},
              {"size": "XXL", "quantity": 11},
              {"size": "3XL", "quantity": 10},
              {"size": "XS", "quantity": 2}
            ]
          }
        },
        {
          "month": "Травень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 556},
              {"size": "L", "quantity": 360},
              {"size": "S", "quantity": 226},
              {"size": "XL", "quantity": 219},
              {"size": "XXL", "quantity": 107},
              {"size": "3XL", "quantity": 46},
              {"size": "XS", "quantity": 47}
            ],
            "Білий": [
              {"size": "M", "quantity": 183},
              {"size": "L", "quantity": 152},
              {"size": "S", "quantity": 82},
              {"size": "XL", "quantity": 72},
              {"size": "XXL", "quantity": 32},
              {"size": "XS", "quantity": 11},
              {"size": "3XL", "quantity": 9}
            ],
            "Сірий": [
              {"size": "M", "quantity": 76},
              {"size": "L", "quantity": 24},
              {"size": "S", "quantity": 11},
              {"size": "XL", "quantity": 20},
              {"size": "XXL", "quantity": 7},
              {"size": "XS", "quantity": 2},
              {"size": "3XL", "quantity": 3}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 21},
              {"size": "L", "quantity": 13},
              {"size": "S", "quantity": 9},
              {"size": "XL", "quantity": 8},
              {"size": "XXL", "quantity": 4},
              {"size": "XS", "quantity": 5},
              {"size": "3XL", "quantity": 1}
            ],
            "Олива": [
              {"size": "M", "quantity": 101},
              {"size": "L", "quantity": 57},
              {"size": "XL", "quantity": 40},
              {"size": "S", "quantity": 20},
              {"size": "XXL", "quantity": 13},
              {"size": "3XL", "quantity": 8},
              {"size": "XS", "quantity": 2}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 70},
              {"size": "S", "quantity": 28},
              {"size": "L", "quantity": 22},
              {"size": "XL", "quantity": 17},
              {"size": "XS", "quantity": 7},
              {"size": "XXL", "quantity": 5},
              {"size": "3XL", "quantity": 3}
            ],
            "Койот": [
              {"size": "M", "quantity": 54},
              {"size": "L", "quantity": 46},
              {"size": "XL", "quantity": 27},
              {"size": "S", "quantity": 14},
              {"size": "XXL", "quantity": 4},
              {"size": "3XL", "quantity": 1},
              {"size": "XS", "quantity": 1}
            ]
          }
        },
        {
          "month": "Червень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 440},
              {"size": "L", "quantity": 359},
              {"size": "XL", "quantity": 219},
              {"size": "S", "quantity": 150},
              {"size": "XXL", "quantity": 64},
              {"size": "3XL", "quantity": 42},
              {"size": "XS", "quantity": 34}
            ],
            "Білий": [
              {"size": "M", "quantity": 461},
              {"size": "XL", "quantity": 210},
              {"size": "L", "quantity": 208},
              {"size": "S", "quantity": 176},
              {"size": "XXL", "quantity": 24},
              {"size": "XS", "quantity": 24},
              {"size": "3XL", "quantity": 8}
            ],
            "Сірий": [
              {"size": "M", "quantity": 79},
              {"size": "L", "quantity": 62},
              {"size": "S", "quantity": 38},
              {"size": "XL", "quantity": 39},
              {"size": "XXL", "quantity": 19},
              {"size": "XS", "quantity": 6},
              {"size": "3XL", "quantity": 9}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 24},
              {"size": "L", "quantity": 24},
              {"size": "S", "quantity": 8},
              {"size": "XL", "quantity": 7},
              {"size": "XXL", "quantity": 4},
              {"size": "XS", "quantity": 3},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "M", "quantity": 61},
              {"size": "L", "quantity": 42},
              {"size": "XL", "quantity": 32},
              {"size": "S", "quantity": 13},
              {"size": "XXL", "quantity": 9},
              {"size": "3XL", "quantity": 21},
              {"size": "XS", "quantity": 3}
            ],
            "Ніжно-рожевий": [
              {"size": "S", "quantity": 53},
              {"size": "M", "quantity": 43},
              {"size": "L", "quantity": 30},
              {"size": "XL", "quantity": 6},
              {"size": "XS", "quantity": 8},
              {"size": "XXL", "quantity": 2},
              {"size": "3XL", "quantity": 1}
            ],
            "Койот": [
              {"size": "M", "quantity": 121},
              {"size": "L", "quantity": 116},
              {"size": "XL", "quantity": 56},
              {"size": "S", "quantity": 34},
              {"size": "XXL", "quantity": 13},
              {"size": "3XL", "quantity": 11},
              {"size": "XS", "quantity": 3}
            ]
          }
        },
        {
          "month": "Липень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "L", "quantity": 651},
              {"size": "M", "quantity": 541},
              {"size": "XL", "quantity": 333},
              {"size": "S", "quantity": 183},
              {"size": "XXL", "quantity": 78},
              {"size": "3XL", "quantity": 80},
              {"size": "XS", "quantity": 27}
            ],
            "Білий": [
              {"size": "M", "quantity": 261},
              {"size": "L", "quantity": 120},
              {"size": "XL", "quantity": 94},
              {"size": "S", "quantity": 85},
              {"size": "XXL", "quantity": 44},
              {"size": "XS", "quantity": 17},
              {"size": "3XL", "quantity": 10}
            ],
            "Сірий": [
              {"size": "L", "quantity": 75},
              {"size": "M", "quantity": 66},
              {"size": "S", "quantity": 43},
              {"size": "XL", "quantity": 31},
              {"size": "XXL", "quantity": 11},
              {"size": "XS", "quantity": 15},
              {"size": "3XL", "quantity": 6}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 36},
              {"size": "L", "quantity": 33},
              {"size": "S", "quantity": 18},
              {"size": "XL", "quantity": 18},
              {"size": "XXL", "quantity": 10},
              {"size": "XS", "quantity": 1},
              {"size": "3XL", "quantity": 0}
            ],
            "Олива": [
              {"size": "M", "quantity": 112},
              {"size": "L", "quantity": 79},
              {"size": "XL", "quantity": 53},
              {"size": "S", "quantity": 19},
              {"size": "XXL", "quantity": 28},
              {"size": "3XL", "quantity": 7},
              {"size": "XS", "quantity": 1}
            ],
            "Ніжно-рожевий": [
              {"size": "S", "quantity": 61},
              {"size": "M", "quantity": 48},
              {"size": "L", "quantity": 22},
              {"size": "XS", "quantity": 13},
              {"size": "XL", "quantity": 7},
              {"size": "XXL", "quantity": 2},
              {"size": "3XL", "quantity": 1}
            ],
            "Койот": [
              {"size": "M", "quantity": 103},
              {"size": "L", "quantity": 68},
              {"size": "XL", "quantity": 31},
              {"size": "S", "quantity": 39},
              {"size": "XXL", "quantity": 22},
              {"size": "3XL", "quantity": 6},
              {"size": "XS", "quantity": 4}
            ]
          }
        },
        {
          "month": "Серпень",
          "year": 2025,
          "colors": {
            "Чорний": [
              {"size": "M", "quantity": 397},
              {"size": "L", "quantity": 336},
              {"size": "XL", "quantity": 165},
              {"size": "S", "quantity": 174},
              {"size": "XXL", "quantity": 82},
              {"size": "3XL", "quantity": 36},
              {"size": "XS", "quantity": 18}
            ],
            "Білий": [
              {"size": "M", "quantity": 194},
              {"size": "L", "quantity": 140},
              {"size": "S", "quantity": 110},
              {"size": "XL", "quantity": 88},
              {"size": "XXL", "quantity": 21},
              {"size": "XS", "quantity": 12},
              {"size": "3XL", "quantity": 5}
            ],
            "Сірий": [
              {"size": "M", "quantity": 50},
              {"size": "L", "quantity": 46},
              {"size": "S", "quantity": 20},
              {"size": "XL", "quantity": 15},
              {"size": "XXL", "quantity": 6},
              {"size": "XS", "quantity": 3},
              {"size": "3XL", "quantity": 6}
            ],
            "Бежевий": [
              {"size": "M", "quantity": 10},
              {"size": "L", "quantity": 8},
              {"size": "S", "quantity": 2},
              {"size": "XL", "quantity": 7},
              {"size": "XXL", "quantity": 2},
              {"size": "XS", "quantity": 0},
              {"size": "3XL", "quantity": 2}
            ],
            "Олива": [
              {"size": "M", "quantity": 64},
              {"size": "L", "quantity": 49},
              {"size": "XL", "quantity": 27},
              {"size": "S", "quantity": 36},
              {"size": "XXL", "quantity": 16},
              {"size": "3XL", "quantity": 11},
              {"size": "XS", "quantity": 2}
            ],
            "Ніжно-рожевий": [
              {"size": "M", "quantity": 53},
              {"size": "S", "quantity": 26},
              {"size": "L", "quantity": 28},
              {"size": "XL", "quantity": 16},
              {"size": "XS", "quantity": 7},
              {"size": "XXL", "quantity": 2},
              {"size": "3XL", "quantity": 1}
            ],
            "Койот": [
              {"size": "L", "quantity": 90},
              {"size": "M", "quantity": 68},
              {"size": "XL", "quantity": 41},
              {"size": "S", "quantity": 22},
              {"size": "XXL", "quantity": 30},
              {"size": "3XL", "quantity": 16},
              {"size": "XS", "quantity": 9}
            ]
          }
        }
      ]
    }
  ]
}

let salesChart;
// Define sizes
const sizes = ['XS', 'S', 'M', 'L', 'XL', 'XXL', '3XL'];
// Function to assign colors
function getColor(name) {
    const colorMap = {
        'Чорний': '#000000',
        'Білий': '#E0E0E0',
        'Ніжно-рожевий': '#FFC1CC',
        'Бежевий': '#F5F5DC',
        'Олива': '#808000',
        'Сірий Грі': '#808080',
        'Сірий': '#808080',
        'Хакі': '#C3B091',
        'Койот': '#8B6F47',
        'Інший Колір': '#FF00FF',
        'XS': '#FF6347',
        'S': '#4682B4',
        'M': '#32CD32',
        'L': '#FFD700',
        'XL': '#6A5ACD',
        'XXL': '#FF4500',
        '3XL': '#9ACD32'
    };
    return colorMap[name] || '#000000';
}
// Function to calculate total sales for a dataset
function calculateTotalSales(data) {
    return data.reduce((sum, value) => sum + value, 0);
}
// Function to update total sales display
function updateTotalSales(datasets) {
    const totalSalesDiv = document.getElementById('totalSales');
    let html = '<h3>Загальні суми продажів:</h3><ul>';
    datasets.forEach(dataset => {
        const total = calculateTotalSales(dataset.data);
        const label = dataset.label.split(' (Загалом:')[0];
        html += `<li><span class="label">${label}</span><span class="value">${total}</span></li>`;
    });
    html += '</ul>';
    totalSalesDiv.innerHTML = html;
}
// Function to get colors for a product
function getProductColors(productData) {
    const colorSet = new Set();
    productData.months.forEach(month => {
        Object.keys(month.colors).forEach(color => colorSet.add(color));
    });
    return Array.from(colorSet);
}
// Function to update product dropdown
function updateProductSelect() {
    const productSelect = document.getElementById('productSelect');
    productSelect.innerHTML = '';
    if (!salesData.products || salesData.products.length === 0) {
        productSelect.innerHTML = '<option value="">Немає продуктів</option>';
        document.getElementById('totalSales').innerHTML = '<p style="color: red;">Помилка: Немає продуктів у даних</p>';
        console.error('salesData.products is empty or undefined');
        return;
    }
    salesData.products.forEach(product => {
        const option = document.createElement('option');
        option.value = product.name;
        option.textContent = product.name;
        productSelect.appendChild(option);
    });
    console.log('Product select updated with', salesData.products.length, 'products');
}
// Function to update chart type dropdown
function updateChartTypes() {
    const productSelect = document.getElementById('productSelect').value;
    const chartTypeSelect = document.getElementById('chartType');
    chartTypeSelect.innerHTML = '<option value="byColor">Продажі за кольорами</option>';
    const productData = salesData.products.find(p => p.name === productSelect);
    if (!productData) {
        console.error('No product data for', productSelect);
        return;
    }
    const colors = getProductColors(productData);
    colors.forEach(color => {
        const option = document.createElement('option');
        option.value = color;
        option.textContent = `Розміри для ${color}`;
        chartTypeSelect.appendChild(option);
    });
    console.log('Chart types updated with', colors.length, 'colors');
}
// Function to update chart based on selection
function updateChart() {
    const productSelect = document.getElementById('productSelect').value;
    const chartType = document.getElementById('chartType').value;
    const chartTitle = document.getElementById('chartTitle');
    const productData = salesData.products.find(p => p.name === productSelect);
    if (!productData) {
        chartTitle.textContent = 'Дані недоступні';
        document.getElementById('totalSales').innerHTML = '<p style="color: red;">Помилка: Вибраний продукт не знайдено</p>';
        console.error('Product not found:', productSelect);
        return;
    }
    const colors = getProductColors(productData);
    const months = productData.months.map(m => `${m.month} ${m.year}`);
    let datasets = [];
    let titleText = '';
    if (chartType === 'byColor') {
        datasets = colors.map(color => {
            const data = productData.months.map(month => {
                return month.colors[color] ? month.colors[color].reduce((sum, item) => sum + item.quantity, 0) : 0;
            });
            return {
                label: color,
                data: data,
                backgroundColor: getColor(color),
                borderColor: getColor(color),
                borderWidth: 1
            };
        });
        titleText = `Продажі за кольором для ${productSelect} по місяцях`;
    } else {
        datasets = sizes.map(size => {
            const data = productData.months.map(month => {
                const colorData = month.colors[chartType];
                const item = colorData ? colorData.find(i => i.size === size) : null;
                return item ? item.quantity : 0;
            });
            return {
                label: size,
                data: data,
                backgroundColor: getColor(size),
                borderColor: getColor(size),
                borderWidth: 1
            };
        });
        titleText = `Продажі за розмірами для кольору ${chartType} (${productSelect}) по місяцях`;
    }
    updateTotalSales(datasets);
    if (salesChart) {
        salesChart.destroy();
    }
    chartTitle.textContent = titleText;
    salesChart = new Chart(document.getElementById('salesChart').getContext('2d'), {
        type: 'bar',
        data: {
            labels: months,
            datasets: datasets
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Кількість продажів'
                    }
                },
                x: {
                    title: {
                        display: true,
                        text: 'Місяці'
                    }
                }
            },
            plugins: {
                legend: {
                    display: true,
                    position: 'top'
                },
                tooltip: {
                    mode: 'index',
                    intersect: false
                },
                datalabels: {  // Налаштування для плагіна datalabels
                    display: true,
                    align: 'end',
                    anchor: 'end',
                    formatter: (value) => value > 0 ? value : ''
                }
            }
        }
    });
    console.log('Chart updated for', productSelect, 'with type', chartType);
}
// Функція ініціалізації
function init() {
    console.log('Init started. salesData:', salesData ? 'defined' : 'undefined');
    if (typeof ChartDataLabels !== 'undefined') {
        Chart.register(ChartDataLabels);
        console.log('ChartDataLabels registered');
    } else {
        console.warn('ChartDataLabels not loaded');
    }
    updateProductSelect();
    updateChartTypes();
    updateChart();
    document.getElementById('productSelect').addEventListener('change', () => {
        updateChartTypes();
        updateChart();
    });
    document.getElementById('chartType').addEventListener('change', updateChart);
}

// Запуск після завантаження DOM
document.addEventListener('DOMContentLoaded', init);